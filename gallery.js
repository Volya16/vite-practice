var y=t=>{throw TypeError(t)};var h=(t,e,r)=>e.has(t)||y("Cannot "+r);var a=(t,e,r)=>(h(t,e,"read from private field"),r?r.call(t):e.get(t)),u=(t,e,r)=>e.has(t)?y("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),P=(t,e,r,o)=>(h(t,e,"write to private field"),o?o.call(t,r):e.set(t,r),r);import"./assets/styles-BbcqeewB.js";import{a as m,P as M}from"./assets/vendor-EP712OEL.js";var i,c,l;class ${constructor(){u(this,i,"https://api.unsplash.com/search/photos");u(this,c,"gcevo00lZKvSMKLnZZJPKYS5xNbpbsP_4i6E-BVlG58");u(this,l,"")}async getPopularPhotos(e){const r=`${a(this,i)}?query=popular&page=${e}&per_page=12&orientation=portrait&client_id=${a(this,c)}`;try{const{data:o}=await m(r);return o}catch(o){console.log(o)}}async getPhotosByQuery(e){const r=`${a(this,i)}?query=${a(this,l)}&page=${e}&per_page=12&orientation=portrait&client_id=${a(this,c)}`;try{const{data:o}=await m(r);return o}catch(o){console.log(o)}}set query(e){P(this,l,e)}}i=new WeakMap,c=new WeakMap,l=new WeakMap;function p(t){return t.map(e=>`<li><img src="${e.urls.small}" alt="${e.alt_description}"></li>`).join("")}const g=document.querySelector(".gallery"),q=document.querySelector(".search-form"),s=new $,L=document.getElementById("tui-pagination-container"),_={totalItems:0,itemsPerPage:12,visiblePages:5,page:1},n=new M(L,_),d=n.getCurrentPage();s.getPopularPhotos(d).then(t=>{g.innerHTML=p(t.results),n.reset(t.total)});function v(t){const e=t.page;s.getPopularPhotos(e).then(r=>{g.innerHTML=p(r.results)})}n.on("afterMove",v);function f(t){const e=t.page;s.getPhotosByQuery(e).then(r=>{g.innerHTML=p(r.results)})}q.addEventListener("submit",async t=>{t.preventDefault();const e=t.target.elements.query.value.trim();if(e!==""){s.query=e,n.off("afterMove",v),n.off("afterMove",f);try{const r=await s.getPhotosByQuery(d);g.innerHTML=p(r.results),n.reset(r.total),n.on("afterMove",f)}catch(r){console.log(r)}}});
//# sourceMappingURL=gallery.js.map
