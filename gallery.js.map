{"version":3,"file":"gallery.js","sources":["../src/js/UnsplashAPI.js","../src/js/render-function.js","../src/js/gallery.js"],"sourcesContent":["import axios from \"axios\";\n\nexport class UnsplashAPI {\n  #BASE_URL = 'https://api.unsplash.com/search/photos';\n    #API_KEY = 'gcevo00lZKvSMKLnZZJPKYS5xNbpbsP_4i6E-BVlG58';\n    #query = '';\n    \n    async getPopularPhotos(page) {\n        const url = `${\n          this.#BASE_URL\n            }?query=popular&page=${page}&per_page=12&orientation=portrait&client_id=${this.#API_KEY}`;\n        try { \n            const {data} = await axios(url);\n            return data;\n        } catch (error) {\n            console.log(error);\n        }\n        \n    }\n\n    async getPhotosByQuery(page) { \n       const url = `${\n          this.#BASE_URL\n            }?query=${this.#query}&page=${page}&per_page=12&orientation=portrait&client_id=${this.#API_KEY}`;\n        try { \n            const {data} = await axios(url);\n            return data;\n        } catch (error) {\n            console.log(error);\n        }\n    }\n\n    set query(newQuery) { \n        this.#query = newQuery;\n    }\n}\n \n","export function renderCardGallery(img) {\n    return img.map(i => `<li><img src=\"${i.urls.small}\" alt=\"${i.alt_description}\"></li>`).join(\"\");\n}","import { UnsplashAPI } from \"./UnsplashAPI\";\nimport { renderCardGallery } from \"./render-function\"\nimport Pagination from 'tui-pagination'; \nimport \"tui-pagination/dist/tui-pagination.min.css\"\n\nconst galleryListEl = document.querySelector('.gallery');\nconst form = document.querySelector('.search-form');\n\nconst api = new UnsplashAPI();\n\nconst container = document.getElementById('tui-pagination-container');\nconst options = { // below default value of options\n    totalItems: 0,\n    itemsPerPage: 12,\n    visiblePages: 5,\n    page: 1,\n}\n\nconst pagination = new Pagination(container, options);\n\nconst page = pagination.getCurrentPage();\n\napi.getPopularPhotos(page).then((data) => {\n    galleryListEl.innerHTML = renderCardGallery(data.results);\n    pagination.reset(data.total)\n});\n\nfunction paginationPopular(event) {\n    const currentPage = event.page;\n    api.getPopularPhotos(currentPage).then((data) => {\n        galleryListEl.innerHTML = renderCardGallery(data.results);\n    })\n    }\npagination.on('afterMove', paginationPopular );\n\nfunction paginationByQuery(event) { \n    const currentPage = event.page;\n    api.getPhotosByQuery(currentPage).then((data) => {\n        galleryListEl.innerHTML = renderCardGallery(data.results);\n    })\n}\nform.addEventListener('submit', async (event) => {\n    event.preventDefault();\n    const searchQuery = event.target.elements.query.value.trim();\n    if (searchQuery === '') { \n        return;\n    }\n    api.query = searchQuery;\n    pagination.off('afterMove', paginationPopular);\n    pagination.off('afterMove', paginationByQuery);\n    try {\n        const data = await api.getPhotosByQuery(page);\n        galleryListEl.innerHTML = renderCardGallery(data.results);\n        pagination.reset(data.total)\n        pagination.on('afterMove',paginationByQuery);\n    }\n\n    catch (error) {\n        console.log(error);\n    } \n    \n });\n"],"names":["UnsplashAPI","__privateAdd","_BASE_URL","_API_KEY","_query","page","url","__privateGet","data","axios","error","newQuery","__privateSet","renderCardGallery","img","i","galleryListEl","form","api","container","options","pagination","Pagination","paginationPopular","event","currentPage","paginationByQuery","searchQuery"],"mappings":"gbAEO,MAAMA,CAAY,CAAlB,cACLC,EAAA,KAAAC,EAAY,0CACVD,EAAA,KAAAE,EAAW,+CACXF,EAAA,KAAAG,EAAS,IAET,MAAM,iBAAiBC,EAAM,CACzB,MAAMC,EAAM,GACVC,EAAA,KAAKL,EACF,uBAAsBG,CAAI,+CAA+CE,EAAA,KAAKJ,EAAQ,GAC3F,GAAI,CACA,KAAM,CAAC,KAAAK,CAAI,EAAI,MAAMC,EAAMH,CAAG,EAC9B,OAAOE,CACV,OAAQE,EAAO,CACZ,QAAQ,IAAIA,CAAK,CACpB,CAEJ,CAED,MAAM,iBAAiBL,EAAM,CAC1B,MAAMC,EAAM,GACTC,EAAA,KAAKL,EACf,UAAsBK,EAAA,KAAKH,EAAM,SAASC,CAAI,+CAA+CE,EAAA,KAAKJ,EAAQ,GAClG,GAAI,CACA,KAAM,CAAC,KAAAK,CAAI,EAAI,MAAMC,EAAMH,CAAG,EAC9B,OAAOE,CACV,OAAQE,EAAO,CACZ,QAAQ,IAAIA,CAAK,CACpB,CACJ,CAED,IAAI,MAAMC,EAAU,CAChBC,EAAA,KAAKR,EAASO,EACjB,CACL,CAhCET,EAAA,YACEC,EAAA,YACAC,EAAA,YCLG,SAASS,EAAkBC,EAAK,CACnC,OAAOA,EAAI,IAAIC,GAAK,iBAAiBA,EAAE,KAAK,KAAK,UAAUA,EAAE,eAAe,SAAS,EAAE,KAAK,EAAE,CAClG,CCGA,MAAMC,EAAgB,SAAS,cAAc,UAAU,EACjDC,EAAO,SAAS,cAAc,cAAc,EAE5CC,EAAM,IAAIlB,EAEVmB,EAAY,SAAS,eAAe,0BAA0B,EAC9DC,EAAU,CACZ,WAAY,EACZ,aAAc,GACd,aAAc,EACd,KAAM,CACV,EAEMC,EAAa,IAAIC,EAAWH,EAAWC,CAAO,EAE9Cf,EAAOgB,EAAW,iBAExBH,EAAI,iBAAiBb,CAAI,EAAE,KAAMG,GAAS,CACtCQ,EAAc,UAAYH,EAAkBL,EAAK,OAAO,EACxDa,EAAW,MAAMb,EAAK,KAAK,CAC/B,CAAC,EAED,SAASe,EAAkBC,EAAO,CAC9B,MAAMC,EAAcD,EAAM,KAC1BN,EAAI,iBAAiBO,CAAW,EAAE,KAAMjB,GAAS,CAC7CQ,EAAc,UAAYH,EAAkBL,EAAK,OAAO,CAChE,CAAK,CACA,CACLa,EAAW,GAAG,YAAaE,GAE3B,SAASG,EAAkBF,EAAO,CAC9B,MAAMC,EAAcD,EAAM,KAC1BN,EAAI,iBAAiBO,CAAW,EAAE,KAAMjB,GAAS,CAC7CQ,EAAc,UAAYH,EAAkBL,EAAK,OAAO,CAChE,CAAK,CACL,CACAS,EAAK,iBAAiB,SAAU,MAAOO,GAAU,CAC7CA,EAAM,eAAc,EACpB,MAAMG,EAAcH,EAAM,OAAO,SAAS,MAAM,MAAM,OACtD,GAAIG,IAAgB,GAGpB,CAAAT,EAAI,MAAQS,EACZN,EAAW,IAAI,YAAaE,CAAiB,EAC7CF,EAAW,IAAI,YAAaK,CAAiB,EAC7C,GAAI,CACA,MAAMlB,EAAO,MAAMU,EAAI,iBAAiBb,CAAI,EAC5CW,EAAc,UAAYH,EAAkBL,EAAK,OAAO,EACxDa,EAAW,MAAMb,EAAK,KAAK,EAC3Ba,EAAW,GAAG,YAAYK,CAAiB,CAC9C,OAEMhB,EAAO,CACV,QAAQ,IAAIA,CAAK,CACpB,EAEL,CAAE"}